Hi everyone this is the last video of the section visualizing our first data previously we've seen the

basics of how D-3 works.

In the last video we'll create a simple visualization of some real data.

The first thing though is to take a look at the data.

This example will download data from the site

this site provides data for all the baby names in the U.S. since 1880 on this page you can find national

data and state specific data for our example will download the national data data set.

I've used the data from 2015 but you can use pretty much anything you want.

Now let's look a bit closer at the data.

We've got a large number of rows where each row shows the name and the sex orthe first all the girls

names are shown and after that all the boys names are shown the data in itself already looks pretty

usable.

So we don't need to do much processing before we can use it.

The sanitized data we use in this example can be found in the data set provided in the code bundle.

Now that we've got that data we want to work with.

We can start creating the example.

Let's start with the complete javascript file first.

It might seem complex and it introduces a couple of new concepts but the general idea should be clear

from the code and this javascript file we set up the main chart's element like we did previously.

Load the data from the CXXVI file using D-3 dot C S V and group the loaded data.

So we only have the top 10 names for both sexes notes that we use the group by function from the low

Dasch library for this.

This library provides a lot of additional functions that deal with common array operations.

We also add the elements that will hold the recked and text elements to each name and we create the

right elements with the correct weights corresponding to the number of times the name was used.

Also create the text elements to show the name at the end of the right elements.

Lastly we add some CSSA styles the recked and text elements and add an access to the top and the bottom

for easy referencing will skip the first step since we've already explained that before.

And move on to the usage of the D-3 dot C S V API call.

Before we do that there are some variables in the javascript that determine how the parts look and how

many we show here they are what they represent is that we're going to show 10 names about 20 pixels

wide and between each pile we put a 5 pixel margin.

Let's move on to loading cxxviii data with D-3 to load the data asynchronously DS3 provides a number

of helper functions.

In this case we've used the D-3 dot CSP function.

The three dot cxxviii function we use take three parameters.

The first one data.

Yup 2015 t x t.

As you are ral which points to the data we want to load the second argument is a function that is applied

to each row read by DS3 the object that's passed into this function is based on the header row of the

CSFB file.

Once the data is loaded and in this case converted the function provided as the third argument is called

with an array of all the read and converted values ready for us to visualize the data.

Let's group the loaded data so we only have the top 10 names for both sexes at this point.

We've only loaded the data with these lines of code.

We convert the big incoming data array to an array that contains just the top 10 female or male names.

We use the low dashes group by function the sort.

Our dates are based on the sex property of each row.

Next we take the first ten names to show elements from the group data and create a single array from

them using the concat function.

We also reverse the top 10 array to make the highest boys name appear at the bottom of the chart.

At this point we've got the data into a form that we can use.

The next step is to create a number of containers to which we can add the wrecked the represents the

number of times the name was used.

And we'll also add a text element that displays the name.

Look at this highlighted part of the code where we bind the both or right to a number of key elements.

We only need to use the Enter function here since we know that there aren't any g elements that can

be used we position each g element using the translate operation of the transform attribute.

We translate the G element along its y axis based on the power with the bottom margin and the position

of the data element D in our data array.

Now that we added the G elements and assign those to the past variable.

We're going to calculate the width of the individual rectangles and add those in some text to the G

it we see something new.

The D-3 scale linear function with these three scale linear we can let D-3 calculates how the number

of times a name was given maps to a specific words.

We use the full width with a value of 720 of the charts for our pars.

So that would mean that the highest value in our input data should map to that value the name Emma which

occurred twenty thousand three hundred and fifty five times should map to a value of 720.

The name of Livia which occurred nineteen thousand five hundred and fifty three times should map to

a value of 720 to nineteen thousand five hundred fifty three by twenty thousand 355 the name Maya which

occurred fourteen thousand eight hundred and twenty times.

Should map to a value of 720 into fourteen thousand eight hundred and twenty by twenty thousand three

hundred fifty five.

Now we could calculate this ourselves and set the size of the right accordingly.

But using the D-3 scale Linnea is much easier and provides additional functionality.

Let's look at the definition a bit closer.

What we do here is we define a linear scale.

Is input domain is set from 0 to the maximum amount in our data.

This input domain is mapped to an output range starting at zero and ending with the result Y scale as

a function which we can now use to map the input domain to the output range with the scale defined.

We can use that to create our recked and text elements in the same way we did earlier.

Here we create a ract with a fixed height and the weight which is defined by the Y scale and the number

of times the name was used.

We also add a class to the right so that we can set its colors and other styling attributes Russi SS.

In the case where sex's f we set the class female and then the other case we set the class male to position

the text element.

We do pretty much the same.

We create a new text element position at the end of the bar set a custom C S S class and finally sets

its value to deam name.

The D-y attribute might seem a bit strange but this allows us to position the text nicely in the middle

of the bar chart.

Next let's add the access on the top and the bottom in order to get the figure D-3 provides us with

a D-3 access orientation function which allows you to create an Access at the bottom top left or right

side.

When creating an access we pass in a scale and tell D-3 how the access should be formatted.

In this case we want 22:6 and use the s formatting which tells the story to use the International System

of Units as I.

This means that D-3 will use metric prefixes to format the tape values and with that we've recreated

the example we saw earlier.

You can see different bars with girls names towards the top and boys names towards the bottom.

The final is that we need to do is add some CSSA classes to style the pass and text elements.

When we've added the right elements we had a female class attribute for the girls names and a male one

for the boys names and we've also set the style of our text elements to label an R C S S file.

We can now define colors and other styles based on these classes with the C S S properties.

We set the fill color of our rectangles the elements with the middle class will be filled still blue

and the elements with the female class will be filled.

Hot pink We also change how the elements with the DOT label class are rendered for these elements.

We changed the font and the text anchor the text anchor especially is important to make sure that the

text element to the right side is positioned.

The x and y value instead of the left side effect is that the text element is nicely aligned at the

end of our paths.

Let's see SS in our hedge tiam our code file

as you can see the bars are now colored separately for boys and girls.

Pink bars are for the girls name and blue bars for the boys name.

Also notice the axes at the top and bottom which show the number of times the name was chosen.

Superb.

We've learnt visualizing data.

This marks the end of this section in this section which sets up our working environment and introduce

the first couple of concepts of D-3.

We've showed that there is a standard pattern for binding data to elements and how we can use D-3 to

handle new elements updating existing elements and how to remove obsolete elements.

We also created our first visualization.

That's amazing in the next section we're going to take a look at basic charts and shapes.

 Autoscroll inact
